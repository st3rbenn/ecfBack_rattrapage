{% extends 'base.html.twig' %}

{% block title %}Hello GalleryController!{% endblock %}

{% block body %}
    {%  set ngGallery = 0 %}

<ul class="container mt-5 list-unstyled">
    <h1 class="text-dark mb-4">Vos diff√©rentes g'Artlery</h1>
    {% for g in galleries %}
        {{ dump(g) }}
        {% if g.user.id == app.user.id %}
            <li class="row mb-4">
                <div class="col-12 col-md-6">
                    <img src="{{ asset('uploads/' ~ g.image) }}" alt="image de la gallerie {{ g.name }}" class="img-fluid">
                </div>
                <div class="col-12 col-md-6">
                    <h2 class="text-dark">{{ g.name }}</h2>
                    <p class="text-dark">{{ g.description }}</p>
                    <a href="{{ path('app_gallery_show', {'id': g.id}) }}" class="btn btn-primary">Voir la g'Artllery</a>
                </div>
            </li>
        {% endif %}
        {%  set ngGallery = ngGallery + 1 %}
    {% endfor %}

    <a href="{{ path('app_gallery_add', { 'id' : app.user.id}) }}" class="btn btn-secondary">
        Ajouter une nouvelle galerie
    </a>
</ul>
{% endblock %}
